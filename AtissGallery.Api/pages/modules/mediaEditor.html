<div class="atiss-media-editor" module="mediaEditor" data-checked="true">
</div>

<div class="popup-dialog bx-sm-4-5 bx-xxs-1-1" id="mediaEditorDialog">
    <div class="popup-dialog-header bx-fix">
        <span data-bind="text: Strings('media-editor')" class="bx-fill padding-6-9"></span>
        <button class="btn-flat-danger width-35" onclick="appCommon.closeDialog(this)"><i class="fa fa-times"></i></button>
    </div>
    <div class="popup-dialog-body padding-9">
        <div class="bx-bar" data-loop="mediaEditor.Media.MediaFiles">
            <!--<div data-template="true">-->
                <div data-loop-template="true" class="bx-bar" id="loopItem" data-bind="attr: {'index': #index}">
                    <div class="bx-fix">
                        <div class="width-35">
                            <button class="btn-flat" onclick="mediaEditor.moveUp(this)"><i class="fa fa-arrow-up"></i></button>
                            <button class="btn-flat" onclick="mediaEditor.moveDown(this)"><i class="fa fa-arrow-down"></i></button>
                            <div class="bx-spacer"></div>
                            <button class="btn-flat" onclick="mediaEditor.remove(this)"><i class="fa fa-minus-circle"></i></button>
                        </div>
                        <div class="bx-bar">
                            <div class="bx-xxs-1-3 bx-md-1-6 padding-9">
                                <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('media-select')"></span>
                                <div class="bx-wrapper bx-ratio-1-1 border-whitesmoke-1" onclick="mediaEditor.openFileUploader(this, event)">
                                    <div class="bx-bar background-image-cover border-white-1" data-bind="attr: {'file-id': #item.File.Id} :: css: {'background-image': 'url(\'' + #item.File.Cover + '\')' }">
                                        <div class="bx-pos-absolute bx-pos-top-right" data-bind="css: {'display': (#item.File.ContentType == 'video/mp4')?'':'none'}"><i class="fa fa-video-camera bx-whitesmoke" aria-hidden="true"></i></div>
                                    </div>
                                </div>
                            </div>
                            <div class="bx-xxs-1-3 bx-md-1-6 padding-9">
                                <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('text-width')"></span>
                                <div class="bx-bar bx-fill">
                                    <input type="range" min="0" max="100" id="myTextWidth" data-bind="val: #item.TextWidth" onchange="appCommon.evalBack(this)" class="bx-fill" step="10" oninput="mediaEditor.textWidthChange(this)">
                                    <output for="fader" id="volume" data-bind="text: #item.TextWidth + '%'"></output>
                                </div>
                                <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('back-color')"></span>
                                <div class="bx-bar bx-fill">
                                    <input type="color" data-bind="val: #item.BackColor" class="bx-xxs-1-1 bx-sm-1-2 bx-md-1-1 bx-lg-1-2" onchange="appCommon.evalBack(this)" oninput="mediaEditor.backColorChange(this)">
                                    <input type="text" data-bind="val: #item.BackColor" class="bx-ltr bx-xxs-1-1 bx-sm-1-2 bx-md-1-1 bx-lg-1-2" oninput="mediaEditor.backColorChange(this)">
                                </div>
                            </div>
                            <div class="bx-xxs-1-3 bx-md-1-6 padding-9">
                                <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('text-position')"></span>
                                <div class="bx-bar bx-ltr button-container" data-bind="do: appCommon.selectButtonByValue(this, #item.TextPosition)" data-attr="selected-value: #item.TextPosition" no-selected-value="0" onchange="appCommon.evalBackAttr(this)">
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="1" onclick="appCommon.selectButton(this)">1</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="2" onclick="appCommon.selectButton(this)">2</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="3" onclick="appCommon.selectButton(this)">3</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="4" onclick="appCommon.selectButton(this)">4</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="5" onclick="appCommon.selectButton(this)">5</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="6" onclick="appCommon.selectButton(this)">6</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="7" onclick="appCommon.selectButton(this)">7</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="8" onclick="appCommon.selectButton(this)">8</button></div>
                                    <div class="bx-xxs-1-3 bx-wrapper bx-ratio-1-1"><button class="btn-flat bx-bar" value="9" onclick="appCommon.selectButton(this)">9</button></div>
                                </div>
                            </div>
                            <div class="bx-xxs-3-3 bx-md-3-6 padding-9 bx-bar tab-container">
                                <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('href-link')"></span>
                                <div class="bx-bar">
                                    <input type="text" data-bind="val: #item.HrefLink" onchange="appCommon.evalBack(this)" class="bx-fill bx-ltr">
                                </div>
                                <div class="bx-bar">
                                    <div class="bx-spacer"></div>
                                </div>
                                <div>
                                    <span class="padding-3-6 backcolor-whitesmoke selected" data-bind="text: Strings('text-fa')" onclick="appCommon.selectTab(this)" tab-selector="#tabFa"></span>
                                    <span class="padding-3-6 backcolor-whitesmoke" data-bind="text: Strings('text-en')" onclick="appCommon.selectTab(this)" tab-selector="#tabEn"></span>
                                </div>
                                <div class="bx-bar border-whitesmoke-1 min-height-50 tab-page" id="tabFa">
                                    <module type="textEditor" content-selector="#myContentFa"></module>
                                    <div id="myContentFa" class="bx-fill" data-bind="html: #item.TextFa" onchange="appCommon.evalBack(this)"></div>
                                </div>
                                <div class="bx-bar border-whitesmoke-1 min-height-50 tab-page" id="tabEn">
                                    <module type="textEditor" content-selector="#myContentEn"></module>
                                    <div id="myContentEn" class="bx-fill" data-bind="html: #item.TextEn" onchange="appCommon.evalBack(this)"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <!--</div>-->
        </div>
        <module type="fileUploader"></module>
    </div>
    <div class="popup-dialog-footer bx-fix">
        <div>
            <button class="btn-flat" onclick="mediaEditor.add(this)"><i class="fa fa-plus-circle"></i></button>
            <!--<div class="bx-spacer"></div>-->
            <button class="btn-flat" onclick="mediaEditor.deleteMedia(this)"><i class="fa fa-minus-circle"></i></button>
        </div>
        <div class="bx-bar width-180">
            <button class="btn-flat bx-xxs-1-2" data-bind="text: Strings('button-ok')" onclick="mediaEditor.ok(this)"></button>
            <button class="btn-flat bx-xxs-1-2" data-bind="text: Strings('button-cancel')" onclick="mediaEditor.cancel(this)"></button>
        </div>
    </div>
</div>

<script type="text/javascript" src="js/modules/mediaEditor.js"></script>
